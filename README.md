# Лабораторная работа 3. OCaml

- Автор: Рогачев Михаил Сергеевич P34082

- Цель: получить навыки работы с вводом/выводом, потоковой обработкой данных, командной строкой.

## Условие задания

В рамках лабораторной работы вам предлагается повторно реализовать лабораторную работу по предмету "Вычислительная математика" посвящённую интерполяции (в разные годы это лабораторная работа 3 или 4) со следующими дополнениями:

- обязательно должна быть реализована линейная интерполяция (отрезками, link);
- настройки алгоритма интерполяции и выводимых данных должны задаваться через аргументы командной строки:

- входные данные должны задаваться в текстовом формате на подобии ".csv" (к примеру x;y\n или x\ty\n) и подаваться на стандартный ввод, входные данные должны быть отсортированы по возрастанию x;
- выходные данные должны подаваться на стандартный вывод;
- программа должна работать в потоковом режиме (пример -- cat | grep 11), это значит, что при запуске программы она должна ожидать получения данных на стандартный ввод, и, по мере получения достаточного количества данных, должна выводить рассчитанные точки в стандартный вывод;

## Реализация

### Алгоритмы интерполяции 

В рамках лабораторной работы реализованы следующие алгоритмы:

- Линейная интерполяция (обязательная)
- Интерполяция по Лагранжу

### Взаимодействие с программой 

Программа поддерживает следующие флаги:

- --linear - работа с линейной интерполяцией
- --lagrange - работа с интерполяцией по Лагранжу
- -s <"шаг"> - величина шага

### Код

- Реализация алгоритмов интерполяции

```Ocaml
let linear_interpolate points x =
  match points with
  | [ (x0, y0); (x1, y1) ] -> ((x -. x0) *. (y1 -. y0) /. (x1 -. x0)) +. y0
  | _ -> failwith "Invalid set of points"
;;

let lagrange_interpolate points x =
  List.fold_left
    (fun acc (xi, yi) ->
      acc
      +. (yi *. List.fold_left (fun prod (xj, _) -> if xj = xi then prod else prod *. (x -. xj) /. (xi -. xj)) 1. points))
    0.
    points
;;
```

- 